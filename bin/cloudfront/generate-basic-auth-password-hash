#!/bin/bash

# exit on failures
set -e
set -o pipefail

usage() {
  echo "Description: Generates a sha512 hash for a user-inputted string"
  echo
  echo "Usage: dalmatian cloudfront $(basename "$0")" 1>&2
  echo "  -h               - help"
  exit 1
}

while getopts "h" opt; do
  case $opt in
    h)
      usage
      exit;;
    *)
      usage
      exit;;
  esac
done

echo -n "New basic auth password: "
read -rs PASSWORD
echo

"$APP_ROOT"/lib/pbkdf2-hmac-hash.py "$PASSWORD"
